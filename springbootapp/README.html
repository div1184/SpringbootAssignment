<?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	</head>
	<body>
		<h1 id="documentation">Documentation</h1>
		<h2 id="assignment-project">Assignment Project</h2>
		<p>Create a Spring Boot REST app that exposes endpoints
			application port is running on 8888
			base path: http://localhost:8888/</p>
		<p>Im Memory Database : H2</p>
		<p>By default in-memory database is void, hence execute the below scripts to add user roles</p>
		<p>roles.sql file available under path  src/main/resources/roles.sql</p>
		<p> execute  src/main/resources/roles.sql file to load roles</p>
		<h1 id="user-registration-api">User Registration API</h1>
		<p>URL</p>
		<p>api/auth/signup</p>
		<p>full URL with path: http://localhost:8888/api/auth/signup</p>
		<ul>
			<li>
				<strong>Method:</strong>
			</li>
		</ul>
		<p>
			<code>POST</code> 
		</p>
		<p>
			<strong>URL Params</strong>
			 Content-Type: application/json
		</p>
		<p>
			<br/>
			<strong>Required:</strong>
			 
			<code>username</code>,
			<code>password</code>,
			<code>email</code>,
			<code>name</code>
		</p>
		<p>
			<br/>
			<strong>Optional:</strong>

			<br/>
			<code>role</code>
		</p>
		<ul>
			<li>
				<strong>Data Params</strong>
				{
				"name": "divakar",
				"username": "divakar",
				"role": ["user"],
				"password": "123456",
				"email": "info@gmail.com"
				 }
			</li>
			<li>
				<strong>Success Response:</strong>
				User registered successfully!
			</li>
		</ul>
		<ul>
			<li>
				<strong>Error Response:</strong>
			</li>
		</ul>
		<p>Fail -&gt; Username is already taken!
			Fail -&gt; Email is already taken!</p>
		<ul>
			<li>
				<strong>Notes:</strong>
			</li>
		</ul>
		<p>To signup user details</p>
		<h1 id="authenticate-user-api">Authenticate User API</h1>
		<p>URL</p>
		<p>method:</p>
		<p>api/auth/signin</p>
		<p>full URL with path: http://localhost:8888/api/auth/signin</p>
		<ul>
			<li>
				<strong>Method:</strong>
			</li>
		</ul>
		<p>
			<code>POST</code> 
		</p>
		<p>
			<strong>URL Params</strong>
		</p>
		<p>  Content-Type: application/json</p>
		<p>
			<br/>
			<strong>Required:</strong>
			 
			<code>username</code>,
			<code>password</code>
		</p>
		<ul>
			<li>
				<strong>Data Params</strong>
				{
				"username": "divakar",
				"password": "123456",
				 }
			</li>
			<li>
				<strong>Success Response:</strong>
				{
				    "userData": {
				        "id": 1,
				        "name": "divakar",
				        "username": "divakar",
				        "email": "info@gmail.com",
				        "password": "",
				        "imgurId": null,
				        "imgurLink": null,
				        "roles": [
				            {
				                "id": 1,
				                "name": "ROLE_USER"
				            }
				        ]
				    },
				    "data": null,
				    "image": null,
				    "timestamp": null,
				    "status": null,
				    "error": null,
				    "message": null,
				    "path": null,
				    "accessToken": "eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJkaXZha2FyIiwiaWF0IjoxNTY0OTg3NTc5LCJleHAiOjE1NjUwNzM5Nzl9.shhVDIu_YF8uIngCjx2zdcSeVkHzSW276nwVmPZDVF5Z4HHnkmt8kRR0sLT5dNYUyASDYZdvQVbjS2OdLAlKvA",
				    "tokenType": "Bearer"
				}
			</li>
		</ul>
		<ul>
			<li>
				<strong>Error Response:</strong>
			</li>
		</ul>
		<p>{
			    "userData": null,
			    "data": null,
			    "image": null,
			    "timestamp": null,
			    "status": 401,
			    "error": null,
			    "message": "Bad credentials",
			    "path": null,
			    "accessToken": "",
			    "tokenType": "Bearer"
			}</p>
		<ul>
			<li>
				<strong>Notes:</strong>
			</li>
		</ul>
		<p>To signin user details</p>
		<h1 id="upload-image-to-imgur-api">Upload Image to Imgur API</h1>
		<p>URL</p>
		<p>method:
			api/auth/image/upload</p>
		<p>full URL with path: http://localhost:8888/api/auth/image/upload</p>
		<ul>
			<li>
				<strong>Method:</strong>
			</li>
		</ul>
		<p>
			<code>POST</code> 
		</p>
		<p>
			<strong>URL Params</strong>
		</p>
		<p> Content-Type: application/x-www-form-urlencoded</p>
		<p>
			<br/>
			<strong>Required:</strong>
			 
			<code>username</code>,
			<code>password</code>,
			<code>file</code>
		</p>
		<ul>
			<li>
				<strong>Data Params</strong>
				file : (upload image file)
				username: divakar
				password: 123456
			</li>
			<li>
				<strong>Success Response:</strong>
				{
				    "data": {
				        "id": 1,
				        "name": "divakar",
				        "username": "divakar",
				        "email": "info@gmail.com",
				        "password": "",
				        "imgurId": "4TAyqn9",
				        "imgurLink": "https://i.imgur.com/4TAyqn9.png",
				        "roles": [
				            {
				                "id": 1,
				                "name": "ROLE_USER"
				            }
				        ]
				    },
				    "message": "uploaded success",
				    "messageKey": "uploaded.success",
				    "success": true
				}
			</li>
		</ul>
		<ul>
			<li>
				<strong>Error Response:</strong>
			</li>
		</ul>
		<p>{
			    "timestamp": "2019-08-05T06:55:01.584+0000",
			    "status": 400,
			    "error": "Bad Request",
			    "message": "Required request part 'file' is not present",
			    "path": "/api/auth/image/upload"
			}</p>
		<ul>
			<li>
				<strong>Notes:</strong>
			</li>
		</ul>
		<p>To Imgur api to upload file</p>
		<h1 id="delete-image-to-imgur-api">delete Image to Imgur API</h1>
		<p>URL</p>
		<p>api/auth/image/delete</p>
		<p>full URL with path: http://localhost:8888/api/auth/image/delete</p>
		<ul>
			<li>
				<strong>Method:</strong>
			</li>
		</ul>
		<p>
			<code>POST</code> 
		</p>
		<p>
			<strong>URL Params</strong>
		</p>
		<p> Content-Type: application/json</p>
		<p>
			<br/>
			<strong>Required:</strong>
			 
			<code>username</code>,
			<code>password</code>,
			<code>imageId</code>
		</p>
		<ul>
			<li>
				<strong>Data Params</strong>
				{
						"username":"divakar",
					"password":"123456",
					"imageId":"4TAyqn9"
				}
			</li>
			<li>
				<strong>Success Response:</strong>
				{
				    "data": {
				        "id": 1,
				        "name": "divakar",
				        "username": "divakar",
				        "email": "info@gmail.com",
				        "password": "",
				        "imgurId": null,
				        "imgurLink": null,
				        "roles": [
				            {
				                "id": 1,
				                "name": "ROLE_USER"
				            }
				        ]
				    },
				    "message": "delete success",
				    "messageKey": "delete.success",
				    "success": true
				}
			</li>
		</ul>
		<ul>
			<li>
				<strong>Error Response:</strong>
			</li>
		</ul>
		<p>{
			    "message": "Bad credentials",
			    "messageKey": "delete.failure",
			    "success": false
			}</p>
		<ul>
			<li>
				<strong>Notes:</strong>
			</li>
		</ul>
		<p>To Imgur api to delete file</p>
		<h1 id="view-image-to-imgur-api">View Image to Imgur API</h1>
		<p>URL</p>
		<p>api/auth//image/view</p>
		<p>full URL with path: http://localhost:8888/api/auth/image/view</p>
		<ul>
			<li>
				<strong>Method:</strong>
			</li>
		</ul>
		<p>
			<code>POST</code> 
		</p>
		<p>
			<strong>URL Params</strong>
		</p>
		<p> Content-Type: application/json</p>
		<p>
			<br/>
			<strong>Required:</strong>
			 
			<code>username</code>,
			<code>password</code>,
		</p>
		<ul>
			<li>
				<strong>Data Params</strong>
				{
						"username":"divakar",
					"password":"123456"
				}
			</li>
			<li>
				<strong>Success Response:</strong>
				{
				    "data": {
				        "id": 1,
				        "name": "divakar",
				        "username": "divakar",
				        "email": "info@gmail.com",
				        "password": "",
				        "imgurId": "vFiPMZ7",
				        "imgurLink": "https://i.imgur.com/vFiPMZ7.png",
				        "roles": [
				            {
				                "id": 1,
				                "name": "ROLE_USER"
				            }
				        ]
				    },
				    "message": "view success",
				    "messageKey": "delete.success",
				    "success": true
				}
			</li>
		</ul>
		<ul>
			<li>
				<strong>Error Response:</strong>
			</li>
		</ul>
		<p>{
			    "message": "view failure",
			    "messageKey": "delete.failure",
			    "success": false
			}</p>
		<ul>
			<li>
				<strong>Notes:</strong>
			</li>
		</ul>
		<p>To Imgur api to view file</p>
		<h1 id="executable-jar-file-locaton">Executable jar file locaton</h1>
		<p>Assignment-0.0.1-SNAPSHOT.jar file available under path  Executable
			<em>jar</em>file/Assignment-0.0.1-SNAPSHOT.jar
		</p>
		<h1 id="executable-jar-command">Executable jar command </h1>
		<p>java -jar Assignment-0.0.1-SNAPSHOT.jar</p>
	</body>
</html>